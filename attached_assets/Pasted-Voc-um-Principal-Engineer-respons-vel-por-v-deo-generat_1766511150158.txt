VocÃª Ã© um Principal Engineer responsÃ¡vel por vÃ­deo generativo em produÃ§Ã£o.

CONTEXTO:
O app PromptForge usa ModelsLab para geraÃ§Ã£o de vÃ­deos.
Atualmente, apesar de jÃ¡ existir suporte a endpoints mais novos, o sistema ainda estÃ¡:
- usando Seedance 1.0 em produÃ§Ã£o
- ou caindo em fallback silencioso para modelos antigos

OBJETIVO:
Migrar DEFINITIVAMENTE a geraÃ§Ã£o de vÃ­deos text-to-video para:
ğŸ‘‰ model_id = "seedance-1-5-pro"

O objetivo Ã© obter vÃ­deos mais realistas, naturais, com melhor motion, iluminaÃ§Ã£o e Ã¡udio.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1) PROBLEMA A CORRIGIR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Existe pelo menos UM dos problemas abaixo no cÃ³digo:
- model_id hardcoded como "seedance-1-0" ou default
- fallback automÃ¡tico quando model_id nÃ£o Ã© explicitamente passado
- UI seleciona Seedance 1.5 Pro, mas backend ignora
- enum/lista de modelos desatualizada
- provider ModelsLab sobrescrevendo model_id

VocÃª deve localizar e corrigir TODOS.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2) ENDPOINT CORRETO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Usar EXCLUSIVAMENTE:

POST https://modelslab.com/api/v7/video-fusion/text-to-video

Payload base obrigatÃ³rio:
{
  prompt: string,
  model_id: "seedance-1-5-pro",
  aspect_ratio: "9:16" | "16:9",
  generate_audio: boolean,
  key: MODELSLAB_API_KEY
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
3) ARQUITETURA CORRETA (OBRIGATÃ“RIO)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Criar/ajustar um registry de modelos:

VideoModelRegistry = {
  "seedance-1-5-pro": {
    provider: "modelslab",
    endpoint: "/api/v7/video-fusion/text-to-video",
    supportsAudio: true,
    supportsAspectRatio: true,
    qualityTier: "ultra",
    isDefault: true
  }
}

REGRAS:
- Seedance 1.5 Pro deve ser o DEFAULT para text-to-video
- Seedance 1.0 NÃƒO deve mais ser usado nem como fallback
- Se o model_id nÃ£o for reconhecido â†’ erro explÃ­cito (422), nunca fallback silencioso

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
4) BACKEND â€” CORREÃ‡Ã•ES OBRIGATÃ“RIAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- Garantir que model_id vindo do frontend NÃƒO seja sobrescrito
- Validar model_id contra o registry
- Logar claramente:
   - model_id usado
   - endpoint chamado
   - payload final (sem API key)
- Se backend detectar uso de Seedance 1.0 â†’ lanÃ§ar erro

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
5) FRONTEND â€” UX
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- No modal / UI de geraÃ§Ã£o de vÃ­deo:
   - Exibir explicitamente: "Seedance 1.5 Pro (Ultra Realistic)"
   - Remover Seedance 1.0 da UI
- Exibir nos detalhes do vÃ­deo gerado:
   - Modelo: Seedance 1.5 Pro
   - Aspect Ratio
   - Ãudio: ON/OFF

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
6) MIGRAÃ‡ÃƒO E SEGURANÃ‡A
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- Remover qualquer enum, constante ou default antigo
- Garantir que seeds, prompts e parÃ¢metros NÃƒO mudem
- Nenhum downgrade automÃ¡tico de modelo Ã© permitido

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
7) CRITÃ‰RIOS DE ACEITE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ” Todos os vÃ­deos novos usam Seedance 1.5 Pro  
âœ” Endpoint correto (v7/video-fusion/text-to-video)  
âœ” VÃ­deos visivelmente mais naturais e realistas  
âœ” Ãudio gerado quando generate_audio = true  
âœ” Nenhum uso de Seedance 1.0 em logs ou payloads  

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
8) ENTREGA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Antes de finalizar:
- Mostre onde o Seedance 1.0 estava sendo usado
- Mostre o diff principal
- Confirme o model_id final em runtime

Execute agora.

import { createContext, useContext, useState, useEffect, ReactNode } from "react";

type Language = "en" | "pt-BR";

const translations = {
  "en": {
    nav: {
      home: "Home",
      studio: "Studio",
      library: "Library",
      history: "History",
      loraStudio: "LoRA Studio",
      imageStudio: "Image Studio",
      hotStudio: "HOT",
    },
    hotStudio: {
      title: "HOT Studio",
      subtitle: "Ultra-realistic NSFW image generation",
      warning: "Adult content only. You must be 18+ to use this feature.",
      referenceImage: "Reference Image",
      referenceImageDesc: "Upload a photo of the character to use as reference",
      uploadHint: "Click or drag to upload reference photo",
      addMore: "Add more",
      filters: "Filters",
      filtersDesc: "Select options to build your prompt",
      noFilters: "No filters available",
      aspectRatio: "Aspect Ratio",
      additionalPrompt: "Additional Details",
      promptPlaceholder: "Add specific details...",
      generating: "Generating...",
      generate: "Generate",
      selectFiltersHint: "Upload a reference image or select filters to generate",
      gallery: "Generated Images",
      clear: "Clear",
      noImages: "No images generated yet",
      selectFiltersStart: "Upload reference and select filters",
      generatingImage: "Generating ultra-realistic image...",
      success: "Image generated!",
      error: "Generation failed",
    },
    landing: {
      heroTitle: "Forge Perfect Prompts",
      heroSubtitle: "Professional prompt engineering studio with blueprints, filters, and reproducible seeds for generating production-grade prompts for any LLM.",
      getStarted: "Get Started",
      viewLibrary: "View Library",
      featuresTitle: "Everything You Need",
      featuresSubtitle: "Build production-ready prompts with our comprehensive toolkit",
      feature1Title: "Smart Blueprints",
      feature1Desc: "Pre-built templates for common use cases with customizable blocks and constraints.",
      feature2Title: "Powerful Filters",
      feature2Desc: "Fine-tune your prompts with adjustable parameters for style, quality, and format.",
      feature3Title: "Reproducible Seeds",
      feature3Desc: "Generate consistent results with deterministic seeds for reliable prompt engineering.",
      feature4Title: "Multi-LLM Support",
      feature4Desc: "Optimized profiles for Midjourney, DALL-E, Stable Diffusion, and Flux Pro.",
      feature5Title: "Quality Scoring",
      feature5Desc: "Automatic quality assessment with conflict detection and optimization suggestions.",
      feature6Title: "Version History",
      feature6Desc: "Track all your generations and iterations with full history and replay capability.",
      pricingTitle: "Simple Pricing",
      pricingSubtitle: "Start free, upgrade when you need more",
      free: "Free",
      freePriceMonth: "/month",
      freeFeature1: "3 generations per day",
      freeFeature2: "Basic blueprints",
      freeFeature3: "Up to 3 filters",
      freeFeature4: "Generation history",
      startFree: "Start Free",
      pro: "Pro",
      proPriceMonth: "/month",
      proFeature1: "Unlimited generations",
      proFeature2: "All blueprints",
      proFeature3: "Unlimited filters",
      proFeature4: "Priority support",
      proFeature5: "API access",
      upgradePro: "Upgrade to Pro",
      footer: "Built for prompt engineers who demand precision.",
    },
    landingPage: {
      tagline: "Structured Creativity",
      marketingLine: "Create Smarter. Generate Better.",
      description: "Used to design prompts for image, video, and agent-based systems — with model-aware structures and reusable blueprints.",
      feature1Title: "Blueprint-driven prompts",
      feature1Desc: "Build prompts with structure — not guesswork.",
      feature2Title: "Model-aware output",
      feature2Desc: "Generate prompts tailored to each model's required base format.",
      feature3Title: "Reusable workflows",
      feature3Desc: "Save, reuse, version, and scale your generations.",
      builtFor: "Built for creators, studios, and agencies.",
      getStarted: "Get Started",
      signInSubtitle: "Sign in with your account to access all features",
      signInButton: "Sign in to continue",
      signInProviders: "Supports Google, GitHub, Apple, and email sign-in",
      viewPricing: "View Pricing",
      redirecting: "Redirecting...",
      pricing: "Pricing",
    },
    studio: {
      title: "Prompt Studio",
      subtitle: "Generate production-grade prompts with precision control",
      configuration: "Configuration",
      llmProfile: "LLM Profile",
      selectProfile: "Select a profile",
      blueprint: "Blueprint",
      selectBlueprint: "Select a blueprint",
      seed: "Seed",
      seedPlaceholder: "Leave empty for random",
      randomize: "Randomize",
      filters: "Filters",
      filtersDesc: "Adjust parameters to fine-tune your prompt",
      selectOption: "Select option",
      inputFields: "Input Fields",
      subject: "Subject",
      subjectPlaceholder: "Main subject of the prompt",
      context: "Context",
      contextPlaceholder: "Background context or setting",
      items: "Items",
      itemsPlaceholder: "Specific items to include",
      environment: "Environment",
      environmentPlaceholder: "Environmental details",
      restrictions: "Restrictions",
      restrictionsPlaceholder: "Things to avoid or exclude",
      generatePrompt: "Generate Prompt",
      generating: "Generating...",
      generatedPrompt: "Generated Prompt",
      copyToClipboard: "Copy to Clipboard",
      exportJson: "Export JSON",
      saveVersion: "Save Version",
      qualityScore: "Quality Score",
      warnings: "Warnings",
      metadata: "Metadata",
      profile: "Profile",
      blocksUsed: "Blocks Used",
      filtersApplied: "Filters Applied",
      selectProfileBlueprint: "Select a profile and blueprint to begin",
      copied: "Copied!",
      promptCopied: "Prompt copied to clipboard",
      versionSaved: "Version Saved",
      loraModel: "LoRA Model",
      noTrainedLoras: "No trained LoRAs available",
      trainLoraHint: "Train a LoRA in the LoRA Studio",
      versionSavedDesc: "Prompt version saved successfully",
      errorGenerating: "Error generating prompt",
      targetPlatform: "Target Platform",
      platformHint: "Select where you'll use this prompt. Cloud platforms need Character Pack instead of LoRA syntax.",
      selectPlatform: "Select platform...",
      localWithLora: "Local (with LoRA)",
      cloudPlatforms: "Cloud (Character Pack)",
      characterPackNote: "This platform doesn't support LoRA. A Character Pack with reference image instructions will be generated instead.",
      characterPackTitle: "Character Pack Instructions",
      uploadImages: "Upload your reference images to the platform",
      recommendedSettings: "Recommended Settings",
      dailyLimits: "Daily Limits",
    },
    library: {
      title: "Blueprint Library",
      subtitle: "Browse and discover prompt blueprints for any use case",
      searchPlaceholder: "Search blueprints...",
      allCategories: "All Categories",
      noResults: "No blueprints found matching your criteria",
      useBlueprint: "Use Blueprint",
      blocks: "blocks",
    },
    history: {
      title: "Generation History",
      subtitle: "View and replay your previous prompt generations",
      noHistory: "No generation history yet",
      noHistoryDesc: "Generate your first prompt to see it here",
      goToStudio: "Go to Studio",
      replay: "Replay",
      score: "Score",
    },
    common: {
      loading: "Loading...",
      error: "Error",
      save: "Save",
      cancel: "Cancel",
      close: "Close",
    },
    devBanner: {
      ariaLabel: "Product notice",
      verifiedLabel: "Verified • Vectra",
      title: "Vectra AI is in development.",
      message: "We ship improvements daily. If you notice any issues, please report them to support.",
      supportCta: "Contact support",
    },
    loraStudio: {
      title: "LoRA Training Studio",
      subtitle: "Train custom AI models with your own images",
      proRequired: "Pro subscription required",
      proRequiredDesc: "LoRA training is a Pro-only feature. Upgrade to access custom model training.",
      upgradePro: "Upgrade to Pro",
      myModels: "My Models",
      createModel: "Create Model",
      noModels: "No LoRA models yet",
      noModelsDesc: "Create your first LoRA model to get started with custom training",
      modelName: "Model Name",
      modelNamePlaceholder: "e.g., My Art Style",
      description: "Description",
      descriptionPlaceholder: "Optional description of your model",
      consent: "I confirm I have rights to use these images for AI training",
      create: "Create Model",
      creating: "Creating...",
      datasets: "Datasets",
      uploadDataset: "Upload Dataset",
      imageCount: "Images",
      status: "Status",
      pending: "Pending",
      validated: "Validated",
      invalid: "Invalid",
      training: "Training",
      completed: "Completed",
      failed: "Failed",
      versions: "Versions",
      noVersions: "No trained versions yet",
      startTraining: "Start Training",
      trainingParams: "Training Parameters",
      steps: "Steps",
      learningRate: "Learning Rate",
      resolution: "Resolution",
      rank: "Rank",
      baseModel: "Base Model",
      selectBaseModel: "Select base model",
      targetPlatform: "Target Platform",
      targetPlatformDesc: "Platform for prompt generation and Character Pack export",
      trainableBaseModel: "Trainable Base Model",
      trainableBaseModelDesc: "Base model for LoRA training (Flux, SDXL)",
      startJob: "Start Training Job",
      jobStatus: "Job Status",
      progress: "Progress",
      activeLora: "Active LoRA",
      noActiveLora: "No LoRA active",
      activate: "Activate",
      deactivate: "Deactivate",
      weight: "Weight",
      qualityScore: "Quality Score",
      errorCreating: "Error creating model",
      errorUploading: "Error uploading dataset",
      errorTraining: "Error starting training",
      modelCreated: "Model created successfully",
      trainingStarted: "Training job started",
      loraActivated: "LoRA activated for prompt generation",
      loraDeactivated: "LoRA deactivated",
    },
    blueprintBuilder: {
      createTitle: "Create Blueprint",
      editTitle: "Edit Blueprint",
      created: "Blueprint created",
      updated: "Blueprint updated",
      error: "Error",
      name: "Name",
      namePlaceholder: "My Custom Blueprint",
      description: "Description",
      descriptionPlaceholder: "Describe what this blueprint generates...",
      category: "Category",
      tags: "Tags",
      tagPlaceholder: "Add tag...",
      compatibleProfiles: "Compatible Profiles",
      allProfilesHint: "Leave empty to support all profiles",
      selectedBlocks: "Selected Blocks",
      noBlocksHint: "Add blocks from below to define your blueprint structure",
      availableBlocks: "Available Blocks",
      loading: "Loading...",
      cancel: "Cancel",
      save: "Save Blueprint",
      update: "Update",
      myBlueprints: "My Blueprints",
      systemBlueprints: "System Blueprints",
      createNew: "Create New",
      noUserBlueprints: "No custom blueprints yet",
      createFirstHint: "Create your first custom blueprint",
      edit: "Edit",
      duplicate: "Duplicate",
      delete: "Delete",
      confirmDelete: "Are you sure you want to delete this blueprint?",
      deleted: "Blueprint deleted",
      duplicated: "Blueprint duplicated",
      limitReached: "Blueprint limit reached",
      upgradeHint: "Upgrade to Pro for unlimited blueprints",
    },
    modelslab: {
      title: "Image Studio",
      subtitle: "Generate high-fidelity images with multi-image fusion and 95%+ character consistency",
      inputTitle: "Input",
      inputDescription: "Add reference images and describe your desired output",
      outputTitle: "Result",
      outputDescription: "Your generated image will appear here",
      referenceImages: "Reference Images",
      imageUrls: "Reference Images",
      imagePlaceholder: "Image URL",
      addImage: "Add Another Image",
      dropOrClick: "Drop images here or click to upload",
      pasteHint: "You can also paste images (Ctrl+V)",
      invalidFileType: "Invalid file type. Only images allowed.",
      fileTooLarge: "File too large. Maximum 10MB.",
      warning: "Warning",
      maxImagesReached: "Maximum of 14 images reached",
      prompt: "Prompt",
      promptPlaceholder: "Describe how you want the images to be combined or transformed...",
      aspectRatio: "Aspect Ratio",
      generate: "Generate Image",
      regenerate: "Regenerate",
      generating: "Generating...",
      processing: "Processing...",
      cancelled: "Generation cancelled",
      cancelledDescription: "You can now adjust your settings and try again.",
      success: "Success",
      imageGenerated: "Image generated successfully",
      error: "Error",
      generationFailed: "Failed to generate image",
      pollingFailed: "Failed to check generation status",
      noImages: "Please add at least one image",
      waitingResult: "Waiting for result...",
      noResult: "Generated image will appear here",
      generatedIn: "Generated in",
      timeout: "Generation timed out. Please try again.",
      promptEngine: "Prompt Engine",
      promptEngineDescription: "Use blueprints, filters and profiles to generate professional prompts",
      enabled: "Enabled",
      disabled: "Disabled",
      selectProfile: "Select profile...",
      selectBlueprint: "Select blueprint...",
      generatePrompt: "Generate Prompt",
      promptGenerated: "Prompt generated",
      promptApplied: "Prompt applied to the textarea",
      aboutTitle: "About Nano Banana Pro",
      resolution: "Max Resolution",
      maxImages: "Max Input Images",
      consistency: "Character Consistency",
      model: "Model",
      galleryTitle: "Image Gallery",
      galleryDescription: "Your saved generated images",
      saveToGallery: "Save to gallery",
      imageSaved: "Image saved to gallery",
      imageDeleted: "Image deleted",
      noSavedImages: "No saved images yet",
      videoGalleryTitle: "Video Gallery",
      videoGalleryDescription: "Your saved generated videos",
      saveVideoToGallery: "Save to video gallery",
      videoSaved: "Video saved to gallery",
      videoDeleted: "Video deleted",
      noSavedVideos: "No saved videos yet",
      presetsTitle: "Filter Presets",
      presetsDescription: "Save and load your filter configurations",
      savePreset: "Save Preset",
      presetName: "Preset Name",
      enterPresetName: "Enter preset name...",
      save: "Save",
      presetSaved: "Filter preset saved",
      presetDeleted: "Preset deleted",
      presetLoaded: "Preset loaded",
      noPresets: "No saved presets. Enable filters and save a preset to get started.",
      blueprintLoaded: "Blueprint loaded",
      blueprintLoadedDesc: "Blueprint settings applied to the studio",
      // VEO 3.1 Video Generation
      transformToVideo: "Transform to Video",
      transformToVideoFull: "Transform to Video",
      videoDialogTitle: "Image to Video",
      videoDialogDescription: "Generate a high-quality video from your image",
      videoSpecs: "Generates ~5 second high-quality videos at 16fps.",
      videoCostNote: "Video generation may take 1-3 minutes to complete.",
      videoDuration: "Duration",
      seconds: "seconds",
      videoAspectRatio: "Aspect Ratio",
      videoQuality: "Quality",
      aspectAuto: "Auto (detect from image)",
      aspectPortrait: "9:16 Portrait",
      aspectLandscape: "16:9 Landscape",
      aspectSquare: "1:1 Square",
      qualityUltra: "Ultra (WAN 2.1 - Best quality)",
      qualityStandard: "Standard (SVD - Faster)",
      landscape: "Landscape",
      portrait: "Portrait",
      videoResult: "Generated Video",
      videoResultDescription: "Your video is ready! Download or save it to your gallery.",
      openVideo: "Open in New Tab",
      downloadVideo: "Download",
      videoProcessing: "Generating video...",
      videoProcessingHint: "This may take a few minutes. You can continue using the app.",
      videoModalHint: "You can close this dialog. The video will appear in the main view when ready.",
      videoDurationLabel: "Duration",
      generationTime: "Generation Time",
      sourceImage: "Source Image",
      transformedAt: "Transformed at",
      close: "Close",
      closeAndWait: "Close & Wait",
      startingGeneration: "Starting...",
      videoCostInfo: "Cost Information",
      videoCostDetails: "Video generation costs $0.24 per second.",
      estimatedCost: "Estimated cost",
      cancel: "Cancel",
      generatingVideo: "Generating...",
      generateVideo: "Generate Video",
      generateAudio: "Generate Audio",
      generateAudioHint: "Add AI-generated audio to the video",
      videoGenerated: "Video generated successfully!",
      videoError: "Video generation failed",
      videoFailed: "Video generation failed",
      videoTimeout: "Video generation timed out",
      export: "Export",
      exportAs: "Export As",
      exportJSON: "Export JSON",
      exportYAML: "Export YAML",
      exportPDF: "Export PDF",
      exportTitle: "Vectra AI Export",
      exportPrompt: "Prompt",
      exportSeed: "Seed",
      exportAspectRatio: "Aspect Ratio",
      exportProfile: "Profile",
      exportBlueprint: "Blueprint",
      exportFilters: "Filters",
      exportGeneratedAt: "Generated At",
      exportImages: "Images",
      exportSuccess: "Export completed",
      exportError: "Export failed",
      hqLimitReached: "HQ Image Limit Reached",
      hqLimitMessage: "You have used your 5 high-quality images (Nano Banana Pro). The next 5 free generations will use the Realistic Vision 5.1 model.",
      upgradeToPro: "Upgrade to Pro (unlimited)",
      apiKeySaved: "API Key Saved",
      apiKeyDesc: "Your custom ModelsLab API key has been saved and encrypted.",
      apiKeyRemoved: "API Key Removed",
      apiKeyRemovedDesc: "Your custom API key has been removed. Using default configuration.",
      imageDetails: "Image Details",
      imageDetailsDescription: "Generation settings and metadata for this image",
      createdAt: "Created At",
      cinematicSettings: "Cinematic Settings",
      appliedFilters: "Applied Filters",
      // Text-to-Image mode
      generationMode: "Generation Mode",
      img2imgMode: "Image to Image",
      text2imgMode: "Text to Image",
      img2imgDescription: "Transform reference images using prompts. Ideal for character consistency and style transfer.",
      text2imgDescription: "Generate images from text prompts only. Perfect for logos, scenarios, and creative concepts.",
      generateText2Img: "Generate from Prompt",
      promptRequired: "Prompt is required for text-to-image generation",
      disablePromptEngineWarning: "Disable Prompt Engine if using Text to Image mode",
      refinePrompt: "Refine Prompt with AI",
      refiningPrompt: "Refining...",
      promptRefined: "Prompt Refined!",
    },
    profile: {
      title: "My Profile",
      subtitle: "Manage your account settings and preferences",
      personalInfo: "Personal Information",
      personalInfoDesc: "Your basic profile information",
      displayName: "Display Name",
      displayNamePlaceholder: "Your name",
      email: "Email",
      tagline: "Tagline",
      taglinePlaceholder: "A short description about yourself",
      timezone: "Timezone",
      selectTimezone: "Select timezone",
      language: "Language",
      selectLanguage: "Select language",
      preferences: "Preferences",
      preferencesDesc: "Customize your experience",
      defaultProfile: "Default LLM Profile",
      selectDefaultProfile: "Select default profile",
      autoSelect: "Auto",
      theme: "Theme",
      light: "Light",
      dark: "Dark",
      system: "System",
      planAndUsage: "Plan & Usage",
      planAndUsageDesc: "Your subscription and usage statistics",
      currentPlan: "Current Plan",
      free: "Free",
      pro: "Pro",
      promptsGenerated: "Prompts Generated",
      promptsToday: "Today",
      imagesGenerated: "Images Generated",
      videosGenerated: "Videos Generated",
      blueprintsSaved: "Blueprints Saved",
      lorasTrained: "LoRAs Trained",
      upgradeToPro: "Upgrade to Pro",
      unlimitedAccess: "Get unlimited access to all features",
      quickLinks: "Quick Links",
      quickLinksDesc: "Navigate to key areas",
      goToBlueprints: "My Blueprints",
      goToHistory: "History",
      goToStudio: "Image Studio",
      saveChanges: "Save Changes",
      saving: "Saving...",
      profileUpdated: "Profile Updated",
      profileUpdatedDesc: "Your changes have been saved",
      errorUpdating: "Error updating profile",
      unlimited: "Unlimited",
    },
  },
  "pt-BR": {
    nav: {
      home: "Início",
      studio: "Estúdio",
      library: "Biblioteca",
      history: "Histórico",
      loraStudio: "Estúdio LoRA",
      imageStudio: "Estúdio de Imagem",
      hotStudio: "HOT",
    },
    hotStudio: {
      title: "Estúdio HOT",
      subtitle: "Geração de imagens NSFW ultra-realistas",
      warning: "Conteúdo adulto apenas. Você deve ter 18+ para usar este recurso.",
      referenceImage: "Imagem de Referência",
      referenceImageDesc: "Envie uma foto do personagem para usar como referência",
      uploadHint: "Clique ou arraste para enviar foto de referência",
      addMore: "Adicionar mais",
      filters: "Filtros",
      filtersDesc: "Selecione opções para construir seu prompt",
      noFilters: "Nenhum filtro disponível",
      aspectRatio: "Proporção",
      additionalPrompt: "Detalhes Adicionais",
      promptPlaceholder: "Adicione detalhes específicos...",
      generating: "Gerando...",
      generate: "Gerar",
      selectFiltersHint: "Envie uma imagem de referência ou selecione filtros para gerar",
      gallery: "Imagens Geradas",
      clear: "Limpar",
      noImages: "Nenhuma imagem gerada ainda",
      selectFiltersStart: "Envie referência e selecione filtros",
      generatingImage: "Gerando imagem ultra-realista...",
      success: "Imagem gerada!",
      error: "Falha na geração",
    },
    landing: {
      heroTitle: "Forje Prompts Perfeitos",
      heroSubtitle: "Estúdio profissional de engenharia de prompts com blueprints, filtros e seeds reproduzíveis para gerar prompts de nível profissional para qualquer LLM.",
      getStarted: "Começar",
      viewLibrary: "Ver Biblioteca",
      featuresTitle: "Tudo que Você Precisa",
      featuresSubtitle: "Construa prompts prontos para produção com nosso kit de ferramentas completo",
      feature1Title: "Blueprints Inteligentes",
      feature1Desc: "Templates pré-construídos para casos de uso comuns com blocos e restrições personalizáveis.",
      feature2Title: "Filtros Poderosos",
      feature2Desc: "Ajuste fino dos seus prompts com parâmetros ajustáveis para estilo, qualidade e formato.",
      feature3Title: "Seeds Reproduzíveis",
      feature3Desc: "Gere resultados consistentes com seeds determinísticas para engenharia de prompts confiável.",
      feature4Title: "Suporte Multi-LLM",
      feature4Desc: "Perfis otimizados para Midjourney, DALL-E, Stable Diffusion e Flux Pro.",
      feature5Title: "Pontuação de Qualidade",
      feature5Desc: "Avaliação automática de qualidade com detecção de conflitos e sugestões de otimização.",
      feature6Title: "Histórico de Versões",
      feature6Desc: "Acompanhe todas as suas gerações e iterações com histórico completo e capacidade de replay.",
      pricingTitle: "Preços Simples",
      pricingSubtitle: "Comece grátis, faça upgrade quando precisar de mais",
      free: "Grátis",
      freePriceMonth: "/mês",
      freeFeature1: "3 gerações por dia",
      freeFeature2: "Blueprints básicos",
      freeFeature3: "Até 3 filtros",
      freeFeature4: "Histórico de gerações",
      startFree: "Começar Grátis",
      pro: "Pro",
      proPriceMonth: "/mês",
      proFeature1: "Gerações ilimitadas",
      proFeature2: "Todos os blueprints",
      proFeature3: "Filtros ilimitados",
      proFeature4: "Suporte prioritário",
      proFeature5: "Acesso à API",
      upgradePro: "Fazer Upgrade para Pro",
      footer: "Feito para engenheiros de prompt que exigem precisão.",
    },
    landingPage: {
      tagline: "Criatividade Estruturada",
      marketingLine: "Crie Mais Inteligente. Gere Melhor.",
      description: "Usado para projetar prompts para sistemas de imagem, vídeo e agentes baseados em IA — com estruturas conscientes do modelo e blueprints reutilizáveis.",
      feature1Title: "Prompts baseados em blueprints",
      feature1Desc: "Construa prompts com estrutura — sem adivinhação.",
      feature2Title: "Saída consciente do modelo",
      feature2Desc: "Gere prompts adaptados ao formato base de cada modelo.",
      feature3Title: "Fluxos reutilizáveis",
      feature3Desc: "Salve, reutilize, versione e escale suas gerações.",
      builtFor: "Feito para criadores, estúdios e agências.",
      getStarted: "Começar",
      signInSubtitle: "Entre com sua conta para acessar todos os recursos",
      signInButton: "Entrar para continuar",
      signInProviders: "Suporta login com Google, GitHub, Apple e email",
      viewPricing: "Ver Preços",
      redirecting: "Redirecionando...",
      pricing: "Preços",
    },
    studio: {
      title: "Estúdio de Prompts",
      subtitle: "Gere prompts de nível profissional com controle preciso",
      configuration: "Configuração",
      llmProfile: "Perfil LLM",
      selectProfile: "Selecione um perfil",
      blueprint: "Blueprint",
      selectBlueprint: "Selecione um blueprint",
      seed: "Seed",
      seedPlaceholder: "Deixe vazio para aleatório",
      randomize: "Aleatorizar",
      filters: "Filtros",
      filtersDesc: "Ajuste os parâmetros para refinar seu prompt",
      selectOption: "Selecione uma opção",
      inputFields: "Campos de Entrada",
      subject: "Assunto",
      subjectPlaceholder: "Assunto principal do prompt",
      context: "Contexto",
      contextPlaceholder: "Contexto ou cenário de fundo",
      items: "Itens",
      itemsPlaceholder: "Itens específicos para incluir",
      environment: "Ambiente",
      environmentPlaceholder: "Detalhes do ambiente",
      restrictions: "Restrições",
      restrictionsPlaceholder: "Coisas a evitar ou excluir",
      generatePrompt: "Gerar Prompt",
      generating: "Gerando...",
      generatedPrompt: "Prompt Gerado",
      copyToClipboard: "Copiar para Área de Transferência",
      exportJson: "Exportar JSON",
      saveVersion: "Salvar Versão",
      qualityScore: "Pontuação de Qualidade",
      warnings: "Avisos",
      metadata: "Metadados",
      profile: "Perfil",
      blocksUsed: "Blocos Usados",
      filtersApplied: "Filtros Aplicados",
      selectProfileBlueprint: "Selecione um perfil e blueprint para começar",
      copied: "Copiado!",
      promptCopied: "Prompt copiado para a área de transferência",
      versionSaved: "Versão Salva",
      loraModel: "Modelo LoRA",
      noTrainedLoras: "Nenhum LoRA treinado disponível",
      trainLoraHint: "Treine um LoRA no Estúdio LoRA",
      versionSavedDesc: "Versão do prompt salva com sucesso",
      errorGenerating: "Erro ao gerar prompt",
      targetPlatform: "Plataforma Alvo",
      platformHint: "Selecione onde você usará este prompt. Plataformas na nuvem precisam de Character Pack em vez de sintaxe LoRA.",
      selectPlatform: "Selecionar plataforma...",
      localWithLora: "Local (com LoRA)",
      cloudPlatforms: "Nuvem (Character Pack)",
      characterPackNote: "Esta plataforma não suporta LoRA. Um Character Pack com instruções de imagem de referência será gerado.",
      characterPackTitle: "Instruções do Character Pack",
      uploadImages: "Envie suas imagens de referência para a plataforma",
      recommendedSettings: "Configurações Recomendadas",
      dailyLimits: "Limites Diários",
    },
    library: {
      title: "Biblioteca de Blueprints",
      subtitle: "Navegue e descubra blueprints de prompts para qualquer uso",
      searchPlaceholder: "Buscar blueprints...",
      allCategories: "Todas as Categorias",
      noResults: "Nenhum blueprint encontrado com seus critérios",
      useBlueprint: "Usar Blueprint",
      blocks: "blocos",
    },
    history: {
      title: "Histórico de Gerações",
      subtitle: "Veja e replique suas gerações de prompts anteriores",
      noHistory: "Nenhum histórico de gerações ainda",
      noHistoryDesc: "Gere seu primeiro prompt para vê-lo aqui",
      goToStudio: "Ir para o Estúdio",
      replay: "Repetir",
      score: "Pontuação",
    },
    common: {
      loading: "Carregando...",
      error: "Erro",
      save: "Salvar",
      cancel: "Cancelar",
      close: "Fechar",
    },
    devBanner: {
      ariaLabel: "Aviso do produto",
      verifiedLabel: "Verificado • Vectra",
      title: "Vectra AI em desenvolvimento.",
      message: "Estamos lançando melhorias diariamente. Se notar qualquer problema, reporte ao nosso suporte.",
      supportCta: "Falar com o suporte",
    },
    loraStudio: {
      title: "Estúdio de Treinamento LoRA",
      subtitle: "Treine modelos de IA personalizados com suas próprias imagens",
      proRequired: "Assinatura Pro necessária",
      proRequiredDesc: "O treinamento LoRA é um recurso exclusivo Pro. Faça upgrade para acessar o treinamento de modelos personalizados.",
      upgradePro: "Fazer Upgrade para Pro",
      myModels: "Meus Modelos",
      createModel: "Criar Modelo",
      noModels: "Nenhum modelo LoRA ainda",
      noModelsDesc: "Crie seu primeiro modelo LoRA para começar com o treinamento personalizado",
      modelName: "Nome do Modelo",
      modelNamePlaceholder: "ex., Meu Estilo de Arte",
      description: "Descrição",
      descriptionPlaceholder: "Descrição opcional do seu modelo",
      consent: "Confirmo que tenho direitos de usar estas imagens para treinamento de IA",
      create: "Criar Modelo",
      creating: "Criando...",
      datasets: "Conjuntos de Dados",
      uploadDataset: "Enviar Conjunto de Dados",
      imageCount: "Imagens",
      status: "Status",
      pending: "Pendente",
      validated: "Validado",
      invalid: "Inválido",
      training: "Treinando",
      completed: "Concluído",
      failed: "Falhou",
      versions: "Versões",
      noVersions: "Nenhuma versão treinada ainda",
      startTraining: "Iniciar Treinamento",
      trainingParams: "Parâmetros de Treinamento",
      steps: "Passos",
      learningRate: "Taxa de Aprendizado",
      resolution: "Resolução",
      rank: "Rank",
      baseModel: "Modelo Base",
      selectBaseModel: "Selecione o modelo base",
      targetPlatform: "Plataforma Alvo",
      targetPlatformDesc: "Plataforma para geração de prompts e exportação de Character Pack",
      trainableBaseModel: "Modelo Base Treinável",
      trainableBaseModelDesc: "Modelo base para treinamento LoRA (Flux, SDXL)",
      startJob: "Iniciar Job de Treinamento",
      jobStatus: "Status do Job",
      progress: "Progresso",
      activeLora: "LoRA Ativo",
      noActiveLora: "Nenhum LoRA ativo",
      activate: "Ativar",
      deactivate: "Desativar",
      weight: "Peso",
      qualityScore: "Pontuação de Qualidade",
      errorCreating: "Erro ao criar modelo",
      errorUploading: "Erro ao enviar conjunto de dados",
      errorTraining: "Erro ao iniciar treinamento",
      modelCreated: "Modelo criado com sucesso",
      trainingStarted: "Job de treinamento iniciado",
      loraActivated: "LoRA ativado para geração de prompts",
      loraDeactivated: "LoRA desativado",
    },
    blueprintBuilder: {
      createTitle: "Criar Blueprint",
      editTitle: "Editar Blueprint",
      created: "Blueprint criado",
      updated: "Blueprint atualizado",
      error: "Erro",
      name: "Nome",
      namePlaceholder: "Meu Blueprint Personalizado",
      description: "Descrição",
      descriptionPlaceholder: "Descreva o que este blueprint gera...",
      category: "Categoria",
      tags: "Tags",
      tagPlaceholder: "Adicionar tag...",
      compatibleProfiles: "Perfis Compatíveis",
      allProfilesHint: "Deixe vazio para suportar todos os perfis",
      selectedBlocks: "Blocos Selecionados",
      noBlocksHint: "Adicione blocos abaixo para definir a estrutura do seu blueprint",
      availableBlocks: "Blocos Disponíveis",
      loading: "Carregando...",
      cancel: "Cancelar",
      save: "Salvar Blueprint",
      update: "Atualizar",
      myBlueprints: "Meus Blueprints",
      systemBlueprints: "Blueprints do Sistema",
      createNew: "Criar Novo",
      noUserBlueprints: "Nenhum blueprint personalizado ainda",
      createFirstHint: "Crie seu primeiro blueprint personalizado",
      edit: "Editar",
      duplicate: "Duplicar",
      delete: "Excluir",
      confirmDelete: "Tem certeza que deseja excluir este blueprint?",
      deleted: "Blueprint excluído",
      duplicated: "Blueprint duplicado",
      limitReached: "Limite de blueprints atingido",
      upgradeHint: "Faça upgrade para Pro para blueprints ilimitados",
    },
    modelslab: {
      title: "Estúdio de Imagem",
      subtitle: "Gere imagens de alta fidelidade com fusão de múltiplas imagens e 95%+ de consistência de personagem",
      inputTitle: "Entrada",
      inputDescription: "Adicione imagens de referência e descreva o resultado desejado",
      outputTitle: "Resultado",
      outputDescription: "Sua imagem gerada aparecerá aqui",
      referenceImages: "Imagens de Referência",
      imageUrls: "Imagens de Referência",
      imagePlaceholder: "URL da Imagem",
      addImage: "Adicionar Outra Imagem",
      dropOrClick: "Arraste imagens aqui ou clique para enviar",
      pasteHint: "Você também pode colar imagens (Ctrl+V)",
      invalidFileType: "Tipo de arquivo inválido. Apenas imagens são permitidas.",
      fileTooLarge: "Arquivo muito grande. Máximo 10MB.",
      warning: "Aviso",
      maxImagesReached: "Máximo de 14 imagens atingido",
      prompt: "Prompt",
      promptPlaceholder: "Descreva como você quer que as imagens sejam combinadas ou transformadas...",
      aspectRatio: "Proporção",
      generate: "Gerar Imagem",
      regenerate: "Gerar Novamente",
      generating: "Gerando...",
      processing: "Processando...",
      cancelled: "Geração cancelada",
      cancelledDescription: "Agora você pode ajustar suas configurações e tentar novamente.",
      success: "Sucesso",
      imageGenerated: "Imagem gerada com sucesso",
      error: "Erro",
      generationFailed: "Falha ao gerar imagem",
      pollingFailed: "Falha ao verificar status da geração",
      noImages: "Por favor adicione pelo menos uma imagem",
      waitingResult: "Aguardando resultado...",
      noResult: "A imagem gerada aparecerá aqui",
      generatedIn: "Gerado em",
      timeout: "A geração expirou. Por favor, tente novamente.",
      promptEngine: "Motor de Prompts",
      promptEngineDescription: "Use blueprints, filtros e perfis para gerar prompts profissionais",
      enabled: "Ativado",
      disabled: "Desativado",
      selectProfile: "Selecionar perfil...",
      selectBlueprint: "Selecionar blueprint...",
      generatePrompt: "Gerar Prompt",
      promptGenerated: "Prompt gerado",
      promptApplied: "Prompt aplicado na área de texto",
      aboutTitle: "Sobre Nano Banana Pro",
      resolution: "Resolução Máxima",
      maxImages: "Máximo de Imagens",
      consistency: "Consistência de Personagem",
      model: "Modelo",
      galleryTitle: "Galeria de Imagens",
      galleryDescription: "Suas imagens geradas salvas",
      saveToGallery: "Salvar na galeria",
      imageSaved: "Imagem salva na galeria",
      imageDeleted: "Imagem excluída",
      noSavedImages: "Nenhuma imagem salva ainda",
      videoGalleryTitle: "Galeria de Vídeos",
      videoGalleryDescription: "Seus vídeos gerados salvos",
      saveVideoToGallery: "Salvar na galeria de vídeos",
      videoSaved: "Vídeo salvo na galeria",
      videoDeleted: "Vídeo excluído",
      noSavedVideos: "Nenhum vídeo salvo ainda",
      presetsTitle: "Predefinições de Filtros",
      presetsDescription: "Salve e carregue suas configurações de filtros",
      savePreset: "Salvar Predefinição",
      presetName: "Nome da Predefinição",
      enterPresetName: "Digite o nome da predefinição...",
      save: "Salvar",
      presetSaved: "Predefinição de filtros salva",
      presetDeleted: "Predefinição excluída",
      presetLoaded: "Predefinição carregada",
      noPresets: "Nenhuma predefinição salva. Ative filtros e salve uma predefinição para começar.",
      blueprintLoaded: "Blueprint carregado",
      blueprintLoadedDesc: "Configurações do blueprint aplicadas ao estúdio",
      // VEO 3.1 Video Generation
      transformToVideo: "Transformar em Vídeo",
      transformToVideoFull: "Transformar em Vídeo",
      videoDialogTitle: "Imagem para Vídeo",
      videoDialogDescription: "Gere um vídeo de alta qualidade a partir da sua imagem",
      videoSpecs: "Gera vídeos de ~5 segundos em alta qualidade a 16fps.",
      videoCostNote: "A geração do vídeo pode levar de 1 a 3 minutos.",
      videoDuration: "Duração",
      seconds: "segundos",
      videoAspectRatio: "Proporção",
      videoQuality: "Qualidade",
      aspectAuto: "Auto (detectar da imagem)",
      aspectPortrait: "9:16 Retrato",
      aspectLandscape: "16:9 Paisagem",
      aspectSquare: "1:1 Quadrado",
      qualityUltra: "Ultra (WAN 2.1 - Melhor qualidade)",
      qualityStandard: "Padrão (SVD - Mais rápido)",
      landscape: "Paisagem",
      portrait: "Retrato",
      videoResult: "Vídeo Gerado",
      videoResultDescription: "Seu vídeo está pronto! Baixe ou salve na sua galeria.",
      openVideo: "Abrir em Nova Aba",
      downloadVideo: "Baixar",
      videoProcessing: "Gerando vídeo...",
      videoProcessingHint: "Isso pode levar alguns minutos. Você pode continuar usando o app.",
      videoModalHint: "Você pode fechar este diálogo. O vídeo aparecerá na área principal quando estiver pronto.",
      videoDurationLabel: "Duração",
      generationTime: "Tempo de Geração",
      sourceImage: "Imagem de Origem",
      transformedAt: "Transformado em",
      close: "Fechar",
      closeAndWait: "Fechar e Aguardar",
      startingGeneration: "Iniciando...",
      videoCostInfo: "Informação de Custo",
      videoCostDetails: "Geração de vídeo custa $0.24 por segundo.",
      estimatedCost: "Custo estimado",
      cancel: "Cancelar",
      generatingVideo: "Gerando...",
      generateVideo: "Gerar Vídeo",
      generateAudio: "Gerar Áudio",
      generateAudioHint: "Adicionar áudio gerado por IA ao vídeo",
      videoGenerated: "Vídeo gerado com sucesso!",
      videoError: "Falha na geração do vídeo",
      videoFailed: "Falha na geração do vídeo",
      videoTimeout: "Tempo limite excedido na geração do vídeo",
      export: "Exportar",
      exportAs: "Exportar Como",
      exportJSON: "Exportar JSON",
      exportYAML: "Exportar YAML",
      exportPDF: "Exportar PDF",
      exportTitle: "Exportação Vectra AI",
      exportPrompt: "Prompt",
      exportSeed: "Seed",
      exportAspectRatio: "Proporção",
      exportProfile: "Perfil",
      exportBlueprint: "Blueprint",
      exportFilters: "Filtros",
      exportGeneratedAt: "Gerado em",
      exportImages: "Imagens",
      exportSuccess: "Exportação concluída",
      exportError: "Falha na exportação",
      hqLimitReached: "Limite de Imagens HQ Atingido",
      hqLimitMessage: "Você utilizou suas 5 imagens de alta qualidade (Nano Banana Pro). As próximas 5 gerações gratuitas usarão o modelo Realistic Vision 5.1.",
      upgradeToPro: "Upgrade para Pro (ilimitado)",
      apiKeySaved: "Chave de API Salva",
      apiKeyDesc: "Sua chave de API ModelsLab personalizada foi salva e criptografada.",
      apiKeyRemoved: "Chave de API Removida",
      apiKeyRemovedDesc: "Sua chave de API personalizada foi removida. Usando configuração padrão.",
      imageDetails: "Detalhes da Imagem",
      imageDetailsDescription: "Configurações de geração e metadados desta imagem",
      createdAt: "Criado em",
      cinematicSettings: "Configurações Cinemáticas",
      appliedFilters: "Filtros Aplicados",
      // Text-to-Image mode
      generationMode: "Modo de Geração",
      img2imgMode: "Imagem para Imagem",
      text2imgMode: "Texto para Imagem",
      img2imgDescription: "Transforme imagens de referência usando prompts. Ideal para consistência de personagem e transferência de estilo.",
      text2imgDescription: "Gere imagens apenas com prompts de texto. Perfeito para logotipos, cenários e conceitos criativos.",
      generateText2Img: "Gerar do Prompt",
      promptRequired: "Prompt é obrigatório para geração texto-para-imagem",
      disablePromptEngineWarning: "Desative o Motor de Prompts se for usar Texto para Imagem",
      refinePrompt: "Refinar Prompt com IA",
      refiningPrompt: "Refinando...",
      promptRefined: "Prompt Refinado!",
    },
    profile: {
      title: "Meu Perfil",
      subtitle: "Gerencie suas configurações e preferências",
      personalInfo: "Informações Pessoais",
      personalInfoDesc: "Suas informações básicas de perfil",
      displayName: "Nome de Exibição",
      displayNamePlaceholder: "Seu nome",
      email: "Email",
      tagline: "Descrição",
      taglinePlaceholder: "Uma breve descrição sobre você",
      timezone: "Fuso Horário",
      selectTimezone: "Selecione o fuso horário",
      language: "Idioma",
      selectLanguage: "Selecione o idioma",
      preferences: "Preferências",
      preferencesDesc: "Personalize sua experiência",
      defaultProfile: "Perfil LLM Padrão",
      selectDefaultProfile: "Selecione o perfil padrão",
      autoSelect: "Automático",
      theme: "Tema",
      light: "Claro",
      dark: "Escuro",
      system: "Sistema",
      planAndUsage: "Plano e Uso",
      planAndUsageDesc: "Sua assinatura e estatísticas de uso",
      currentPlan: "Plano Atual",
      free: "Grátis",
      pro: "Pro",
      promptsGenerated: "Prompts Gerados",
      promptsToday: "Hoje",
      imagesGenerated: "Imagens Geradas",
      videosGenerated: "Vídeos Gerados",
      blueprintsSaved: "Blueprints Salvos",
      lorasTrained: "LoRAs Treinados",
      upgradeToPro: "Fazer Upgrade para Pro",
      unlimitedAccess: "Obtenha acesso ilimitado a todos os recursos",
      quickLinks: "Links Rápidos",
      quickLinksDesc: "Navegue para áreas principais",
      goToBlueprints: "Meus Blueprints",
      goToHistory: "Histórico",
      goToStudio: "Estúdio de Imagem",
      saveChanges: "Salvar Alterações",
      saving: "Salvando...",
      profileUpdated: "Perfil Atualizado",
      profileUpdatedDesc: "Suas alterações foram salvas",
      errorUpdating: "Erro ao atualizar perfil",
      unlimited: "Ilimitado",
    },
  },
};

type TranslationKey = keyof typeof translations["en"];
type Translations = typeof translations["en"];

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: Translations;
}

const I18nContext = createContext<I18nContextType | null>(null);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>(() => {
    if (typeof window !== "undefined") {
      const saved = localStorage.getItem("language") as Language;
      if (saved && (saved === "en" || saved === "pt-BR")) return saved;
    }
    return "pt-BR"; // Default to Portuguese
  });

  useEffect(() => {
    localStorage.setItem("language", language);
  }, [language]);

  const t = translations[language];

  return (
    <I18nContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error("useI18n must be used within an I18nProvider");
  }
  return context;
}

export function LanguageToggle() {
  const { language, setLanguage } = useI18n();

  return (
    <button
      onClick={() => setLanguage(language === "en" ? "pt-BR" : "en")}
      className="text-xs font-medium px-2 py-1 rounded-md bg-muted hover-elevate"
      data-testid="button-language-toggle"
    >
      {language === "en" ? "PT" : "EN"}
    </button>
  );
}
